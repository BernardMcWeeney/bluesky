---
import MainLayout from "../../layouts/MainLayout.astro";
import { orderedBlogPosts } from "../../data/blogPosts";

const formatDate = (iso: string) =>
  new Intl.DateTimeFormat("en-US", {
    year: "numeric",
    month: "short",
    day: "numeric"
  }).format(new Date(iso));
---

<MainLayout title="Journal â€” Bluesky Software" description="Insights on design, digital platforms, and growth from the Bluesky team.">

  <!-- Hero -->
  <section class="section">
    <div class="container fade-in">
      <div class="surface soft pad-lg text-center">
        <span class="kicker">Bluesky Journal</span>
        <h1 class="title" style="margin-top: 0.8rem;">Thinking clearly about digital</h1>
        <p class="copy centered">
          Practical insights on design, platform strategy, and growth for
          organisations building modern websites and mobile apps.
        </p>
      </div>
    </div>
  </section>

  <!-- Posts grid -->
  <section class="section tight">
    <div class="container">
      <div class="grid three">
        {
          orderedBlogPosts.map((post, index) => (
            <article class={`card reveal reveal-delay-${(index % 3) + 1}`}>
              <p class="tag">{post.category}</p>
              <h2>{post.title}</h2>
              <p>{post.excerpt}</p>
              <div class="stats">
                <span class="stat">{formatDate(post.date)}</span>
                <span class="stat">{post.readTime}</span>
              </div>
              <div class="actions" style="margin-top: 1rem;">
                <a class="btn-ghost" href={`/blog/${post.slug}/`}>Read article</a>
              </div>
            </article>
          ))
        }
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section tight">
    <div class="container reveal">
      <div class="cta-banner">
        <h2>Have a project in mind?</h2>
        <p>
          We'd love to hear about it. Get in touch and let's explore
          how Bluesky can work for your organisation.
        </p>
        <div class="actions">
          <a class="btn-white" href="/contact">Get in touch</a>
        </div>
      </div>
    </div>
  </section>

</MainLayout>
